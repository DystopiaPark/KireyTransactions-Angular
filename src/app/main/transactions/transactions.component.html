<div class="nav-btns">
  <button pButton type="button" label="Add Transaction" (click)="openModal()"></button>
  <div class="right-nav-btns">
    <button pButton type="button" label=" Back to Homepage" routerLink="/main/homepage"></button>
    <button pButton type="button" (click)="logout()" label="Sign Out"></button>
  </div>
</div>
<h1>Purchase Table</h1>
<h3>Current balance: {{this.userData.accountAmount}}</h3>
<p-table [value]="transactionArray">
  <ng-template pTemplate="header">
    <tr>
      <th>Purchase</th>
      <th>Category</th>
      <th>Time and Date</th>
      <th>Amount Spent</th>
      <th>Edit</th>
      <th>Delete</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-transaction>
    <tr>
      <td>{{ transaction.purchase }}</td>
      <td>{{ transaction.category }}</td>
      <td>{{ transaction.timeAndDate | date: "medium" }}</td>
      <td>{{ transaction.amountSpent }}</td>
      <td>
        <button pButton icon="pi pi-pencil" class="p-button-secondary" (click)="sendSelectedTransactionToChild(transaction)" (click)="openEditModal()"></button>
      </td>
      <td>
        <button pButton icon="pi pi-trash" class="p-button-danger" (click)="deleteTransaction(transaction)"></button>
      </td>
    </tr>
  </ng-template>
</p-table>
<app-transaction-modal [modalOpen]="modalOpen" (modalClosed)="closeModal()" [transactionArray]="transactionArray"></app-transaction-modal>
<app-transaction-edit-modal *ngIf="selectedTransaction != undefined" (transactionChanged)="onTransactionChanged($event)" [modalEditOpen]="modalEditOpen" (modalEditClosed)="closeEditModal()" [selectedTransaction]="selectedTransaction" [transactionArray]="transactionArray"></app-transaction-edit-modal>